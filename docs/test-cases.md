# 测试用例清单

## 功能测试用例

### 1. 基础对比功能

#### TC001: 全中文长文对比
- **输入**: 左侧500字中文文章，右侧修改20处
- **预期**: 正确标识所有差异，中文分词准确
- **验证点**: 差异高亮、统计数字、导航功能

#### TC002: 全英文长文对比
- **输入**: 左侧英文文档1000词，右侧修改50词
- **预期**: 单词级别差异识别准确
- **验证点**: 英文单词边界识别、大小写处理

#### TC003: 中英混排文本
- **输入**: 包含中英文、数字的混合文本
- **预期**: 正确处理不同语言边界
- **验证点**: 中英文切换处的差异识别

#### TC004: 仅空白差异
- **输入**: 相同文本但空格、制表符、换行不同
- **预期**: 开启"忽略空白"后无差异，关闭后显示差异
- **验证点**: 空白忽略选项的效果

#### TC005: 仅标点差异
- **输入**: 文本相同但标点符号不同（中英文标点）
- **预期**: 开启"忽略标点"后无差异
- **验证点**: 中英文标点的识别和忽略

### 2. 特殊字符处理

#### TC006: Emoji表情对比
- **输入**: 包含各类emoji的文本
- **预期**: 正确识别emoji差异
- **验证点**: emoji显示、复制、导出

#### TC007: 特殊符号
- **输入**: 数学符号、货币符号、版权符号等
- **预期**: 所有特殊符号正确显示和对比
- **验证点**: 符号渲染、编码处理

#### TC008: URL和邮箱
- **输入**: 包含URL链接和邮箱地址的文本
- **预期**: 完整识别URL和邮箱的变化
- **验证点**: 不会错误分割URL

### 3. 边界条件测试

#### TC009: 极长单段文本
- **输入**: 单个段落10000字符无换行
- **预期**: 正确处理，界面不卡顿
- **验证点**: 性能、内存占用

#### TC010: 极短文本
- **输入**: 左右各1-5个字符
- **预期**: 正确对比，UI正常显示
- **验证点**: 最小文本的处理

#### TC011: 完全相同文本
- **输入**: 左右完全一致的文本
- **预期**: 显示100%相似度，无差异项
- **验证点**: 统计信息准确性

#### TC012: 完全不同文本
- **输入**: 左右完全不同的文本
- **预期**: 全部标记为删除+新增
- **验证点**: 极端差异的处理

### 4. 业务场景测试

#### TC013: 合同条款变更
- **输入**: 法律合同文本，修改关键条款
- **预期**: 准确识别"甲方/乙方"、金额、日期变更
- **验证点**: 关键要素的高亮

#### TC014: 金额变更
- **输入**: 包含各种金额格式（100,000、￥120,000、$1,234.56）
- **预期**: 精确识别金额变化
- **验证点**: 数字格式的处理

#### TC015: 日期格式变更
- **输入**: 不同日期格式（2024-01-01、2024年1月1日、01/01/2024）
- **预期**: 识别日期内容变化
- **验证点**: 日期格式兼容性

### 5. 性能测试

#### TC016: 10万字符对比
- **输入**: 左右各10万字符的文本
- **预期**: 2秒内完成首次对比
- **验证点**: 计时、进度条、UI响应

#### TC017: 百万字符对比
- **输入**: 左右各100万字符
- **预期**: 使用Web Worker，不阻塞UI
- **验证点**: 异步处理、内存管理

#### TC018: 连续输入性能
- **输入**: 快速连续输入文本
- **预期**: 防抖正常工作，最后一次输入后300ms触发对比
- **验证点**: 防抖机制、性能优化

### 6. 交互功能测试

#### TC019: 差异导航
- **输入**: 有20处差异的文本
- **预期**: J/K键正确导航，高亮当前差异
- **验证点**: 键盘快捷键、滚动定位

#### TC020: 文本交换
- **输入**: 左右不同文本，执行交换
- **预期**: 左右文本互换，重新计算差异
- **验证点**: 交换逻辑、状态更新

#### TC021: 导出功能
- **输入**: 对比结果
- **预期**: 成功导出HTML/TXT/JSON格式
- **验证点**: 文件下载、格式正确性

### 7. 兼容性测试

#### TC022: 浏览器兼容性
- **测试环境**: Chrome、Firefox、Safari、Edge最新版
- **预期**: 所有功能正常工作
- **验证点**: 渲染一致性、功能完整性

#### TC023: 移动端适配
- **测试环境**: iOS Safari、Android Chrome
- **预期**: 基本功能可用，界面响应式
- **验证点**: 触摸操作、虚拟键盘

#### TC024: 深色模式
- **操作**: 切换深色/浅色主题
- **预期**: 界面正确切换，对比度符合标准
- **验证点**: 颜色对比度、可读性

### 8. 无障碍测试

#### TC025: 键盘导航
- **操作**: 仅使用键盘操作所有功能
- **预期**: 可访问所有交互元素
- **验证点**: Tab顺序、焦点指示

#### TC026: 屏幕阅读器
- **工具**: NVDA/JAWS
- **预期**: 正确朗读差异内容和统计信息
- **验证点**: ARIA标签、语义化标记

## 自动化测试脚本示例

```javascript
// 测试用例数据
const testCases = {
  chinese: {
    left: "这是一段中文测试文本，包含标点符号。",
    right: "这是一段中文测试文字，包含标点符号！",
    expectedDiffs: 2
  },
  english: {
    left: "This is a test text with some words.",
    right: "This is a test document with different words.",
    expectedDiffs: 2
  },
  mixed: {
    left: "混合文本mixed text第1版",
    right: "混合文本mixed content第2版",
    expectedDiffs: 2
  },
  emoji: {
    left: "开心😊结束",
    right: "开心😭结束",
    expectedDiffs: 1
  },
  whitespace: {
    left: "文本  有   空格",
    right: "文本 有 空格",
    expectedDiffs: 1,
    ignoreWhitespace: true
  }
};
```

## 性能基准测试

| 文本规模 | 目标时间 | 实际时间 | 状态 |
|---------|---------|---------|------|
| 1K字符 | <100ms | - | ⏳ |
| 10K字符 | <500ms | - | ⏳ |
| 100K字符 | <2s | - | ⏳ |
| 1M字符 | <10s | - | ⏳ |

## 测试执行记录

| 测试用例 | 执行日期 | 结果 | 备注 |
|---------|---------|------|------|
| TC001 | - | ⏳ | 待测试 |
| TC002 | - | ⏳ | 待测试 |
| TC003 | - | ⏳ | 待测试 |
| ... | - | ⏳ | 待测试 |